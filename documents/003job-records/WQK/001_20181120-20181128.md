**工作记录**
<br>

**2018.11.20 - 2018.11.29**

---
**1、完成爬虫可视化部署**
- 用scrapyd将scrapy爬虫部署到服务端运行
- 用Gerapy工具，可以用更加直观的界面操作scrapyd上的爬虫

**2、已部署爬虫**
<table>
  <tr>
    <th>名称</th>
    <th>功能</th>
    <th>链接</th>
  </tr>
  <tr>
    <td>toolspider</td>
    <td>爬取迅雷链接</td>
    <td><a href="http://dl.xunlei.com">迅雷产品下载页面</a></td>
  </tr>
</table>


**3、写了博客**
- [爬虫的可视化部署](https://www.cnblogs.com/wangqinkuan/p/9990652.html)

---
**爬虫 未完成部分**
- 设计爬虫数据库表
- 设计并实现保存爬虫数据的存储过程，主要是去重以及获得页面来源的id
- 在服务端新建mysql数据库，将爬取结果保存至数据库

**爬虫表设计**
- 爬取结果链接表
  - id
  - 爬取目标id
  - 链接
  - 链接描述
  - 链接图片
  - 爬取深度
  - 链接说明
  - 链接版本
  - 链接来源(父链接)id
  - 更新时间
- 爬取目标表(数据字典)
  - id
  - 目标名称
  - 目标网页(给爬虫爬的初始页面)
  - 爬虫id(一个爬虫对应多个爬取目标)
- 爬虫表
  - id
  - 爬虫名称
- 链接-标签关系表（多对多）
  - 链接id
  - 标签id
---
**补充**
<br>
- 现有的爬虫可视化管理界面仅能做到对爬虫进行调度，以及状态查看<br>
- 对于爬虫爬取结果的审核，以及爬虫具体信息的展示，爬虫目标的修改，还是要单独做一个网页控制<br>
- 我的想法是，写好爬虫后，将爬虫需要爬取的目标网页放在数据库而不是代码里，爬虫启动时，通过读取数据库，找到自己要爬取的页面
这样，可以在爬虫管理界面直接修改爬取的目标页面，另外，爬虫名称不能随意更改，因为在scrapy中，爬虫名为爬虫的唯一标识，并且被写在代码中
随意修改可能会导致scrapy无法正常运行
